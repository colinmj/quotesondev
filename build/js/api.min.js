!function(e){e("#new-quote-button").on("click",function(t){t.preventDefault(),e(".entry-source-link").empty(),e(".entry-source").empty(),e(".entry-meta").empty(),e(".content-wrapper").addClass("show"),e(".title-link-container").addClass("show"),e(".ultra-container").addClass("show"),e(".left-quote").addClass("show"),e(".right-quote").addClass("show"),e.ajax({method:"get",url:api_vars.root_url+"wp/v2/posts/?filter[orderby]=rand&filter[posts_per_page]=1"}).done(function(t){var o=t[0].title.rendered,r=t[0].content.rendered,n=t[0]._qod_quote_source_url,s=t[0]._qod_quote_source,a=t[0].slug;e(".hentry").append(history.pushState(null,null,a)),e(".quote-container").html(r),e(".entry-title").html("<p>&mdash; "+o+"</p>"),n?e(".entry-source-link").html('<a href="'+n+'"><span class="white"><p>,</p></span>'+s+"</a>"):s&&e(".entry-source").html('<span class="white">,</span>'+s)}).fail(function(){e("quote-container").html("No dice")})}),e(".post-submit").on("click",function(t){t.preventDefault();var o=e(".name").val(),r=e(".content-form").val(),n=e(".source-form").val(),s=e(".source-url").val();e.ajax({method:"post",url:api_vars.root_url+"wp/v2/posts/",data:{title:o,content:r,_qod_quote_source:n,_qod_quote_source_url:s,status:"publish"},beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",api_vars.nonce)}}).done(function(){e(".submit-form").hide(),e(".form-wrapper").append('<p class="thanks">Thanks for submitting your quote!</p>'),e(".form-wrapper").append('<button class="refresh"> Click Me to Submit Again</button>'),e(".refresh").on("click",function(){e(".submit-form").show().trigger("reset"),e(".refresh").hide(),e(".thanks").hide()})})})}(jQuery);